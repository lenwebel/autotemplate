{"version":3,"file":"core.js","sourceRoot":"","sources":["../ts/core.ts"],"names":[],"mappings":"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","sourcesContent":["\ndeclare var pages:page;\n\ninterface pageConfiguration{\n            getData: string;\n            postData: string;\n            template: Array<any>;\n}\n\ninterface page {\n    pageName:string;\n    configuration:pageConfiguration;\n}\n\nclass coreElement{\n\n    constructor(element:string,makeFunction:any){\n        this.element = element;\n        this.makeFunction = makeFunction;\n    }\n\n    element:string;\n    makeFunction: any; \n}\n\nclass core{\n    private _elementMap:Array<coreElement>;\n    private _pages:Array<page>;\n    \n    private static _excludedAttributes:Array<string> = [\n        'includelabel',\n        'label',\n        'element',\n        'parentElement'\n    ];\n  \n    constructor(pages:any){       \n        this._pages = pages;\n        this.init();\n\n     }\n\nprivate initElementMap():void{\n    this._elementMap = new Array<coreElement>();\n    this._elementMap.push(new coreElement(\"select\",core.makeSelect));\n    this._elementMap.push(new coreElement(\"text\",core.makeText));\n    this._elementMap.push(new coreElement(\"div\",core.makeDiv));\n}\n\npublic getElementMaker(elementName:string):Function{\n        var makeElement = this._elementMap.filter((o)=> {\n        if(elementName){\n            return o.element.toLowerCase() === elementName.toLowerCase();\n        }[0]\n        return false;\n    });\n\n    if(!makeElement[0]){\n        return (a:any)=>{ return core.makeDiv(a); };\n    }\n    return makeElement[0].makeFunction;\n}\n\npublic createElement(element:any):HTMLElement{\n    var makeElement = this.getElementMaker(element.element);\n    let result:HTMLElement;\n\n    result = makeElement(element);    \n   \n   //check if a parent element exists and if the parent element is an object\n    if(element.parentElement && typeof element.parentElement === 'object'){\n        console.log(element.parentElement)\n        let parent = this.createElement(element.parentElement); \n        parent.appendChild(result);\n        result = parent;\n    }\n    \n    return result;\n}\n\n\npublic init(){\n        this._pages.forEach((page)=>console.log(\"page:\",page.pageName,page.configuration));\n\n        var p = this._pages;\n        this.initElementMap();\n        \n        this._pages.forEach((page)=>{ // process each pagetemplate.\n            this.processPageTemplate(page,(field:any)=> {\n                field.HTMLElement = this.createElement(field);\n            });\n        });\n        \n        //////// this is throw away code - just testing the output.\n        \n        let div = document.createElement('div');\n        \n        this.processPageTemplate(this._pages[0],(field:any)=>{\n            div.appendChild(field.HTMLElement);\n        });\n        \n        document.body.appendChild(div);\n\n        ////////////////////////////////////////////////////////////\n}\n\n\npublic processPageTemplate(template:page,fctn:Function){\n    template.configuration.template.forEach((field)=>fctn(field));\n}\n\npublic static makeSelect(attributes:any):HTMLSelectElement{\n    var select =  document.createElement('select')\n    core.attributeHelper(select,attributes);\n    return select;\n}\n\npublic static makeDiv(attributes:any):HTMLDivElement{\n    var div  = document.createElement('div');\n    core.attributeHelper(div,attributes);\n    return div;\n}\n\npublic static makeText(attributes:any):HTMLInputElement{\n    var input = document.createElement(\"input\");\n    core.attributeHelper(input,attributes);\n    input.setAttribute(\"type\",\"text\");\n    return input;\n\n}\n\nprivate static excludeAttribute(element:string):boolean{\n     return core._excludedAttributes.indexOf(element) <= 0\n}\n\nprivate static attributeHelper(element:HTMLElement,attributes:any){\n    var _attr = attributes;\n    var _ele = element;\n    Object.keys(attributes).forEach((property,value)=>{\n        if(core.excludeAttribute(property)){\n            _ele.setAttribute(property,_attr[property])\n        }\n\n    });\n}\n\n\n}\n\n\nvar t = new core(pages);"]}